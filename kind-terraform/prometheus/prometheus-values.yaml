global:
  # How frequently to scrape targets
  scrape_interval:     10s
  # How frequently to evaluate rules
  evaluation_interval: 10s

alertmanager:
  alertmanagerSpec:
    externalURL: http://alert.localtest.me
  config:
    receivers:
      - name: 'null'
      - name: Watchdog-HealthCheck.io
        webhook_configs:
          - url: "https://hc-ping.com/bdc7a25a-f522-4ccc-b801-2ee226e0c03d"
      # - name: DEAD-MAN-SNITCH
      #   webhook_configs:
      #     - url: "https://nosnch.in/112081fd96"
      - name: "dev-kind-slack"
        slack_configs:
        - api_url: "https://hooks.slack.com/services/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"
          channel: "#dev-kind"
    route:
      routes:
        - match:
            alertname: Watchdog
          receiver: Watchdog-HealthCheck.io
          group_wait: 0s
          group_interval: 1m
          repeat_interval: 50s
          continue: true
        # - match:
        #     alertname: Watchdog-Watchdog
        #   receiver: DEAD-MAN-SNITCH
        #   group_wait: 0s
        #   group_interval: 1m
        #   repeat_interval: 50s
        - match:
            alertname: TargetDown
            namespace: kube-system
          receiver: dev-kind-slack
          group_wait: 0s
          group_interval: 5m
          repeat_interval: 5m
        - match:
            alertname: TargetDown
            namespace: nginx
          receiver: dev-kind-slack
          group_wait: 0s
          group_interval: 5m
          repeat_interval: 5m
        - match:
            alertname: TargetDown
            namespace: monitoring
          receiver: dev-kind-slack
          group_wait: 0s
          group_interval: 5m
          repeat_interval: 5m
        - match:
            alertname: TargetDown
            namespace: logging
          receiver: dev-kind-slack
          group_wait: 0s
          group_interval: 5m
          repeat_interval: 5m

prometheus:
  prometheusSpec:
    web:
      externalUrl: http://prom.localtest.me
    externalUrl: http://prom.localtest.me


prometheus-node-exporter:
  hostRootFsMount:
    enabled: false
